<html>
  <head>
    <title>Manubot Catalog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- metatags - https://metatags.io/ -->
    <meta name="title" content="Manubot Catalog" />
    <meta name="description" content="" />
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://manubot.org" />
    <meta property="og:title" content="Manubot Catalog" />
    <meta property="og:description" content="" />
    <meta property="og:image" content="/share-thumbnail.png" />
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://manubot.org" />
    <meta property="twitter:title" content="Manubot Catalog" />
    <meta property="twitter:description" content="" />
    <meta property="twitter:image" content="/share-thumbnail.png" />

    <!-- favicons - https://realfavicongenerator.net/ -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="/favicon-192x192.png"
    />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ad1457" />
    <meta name="msapplication-TileColor" content="#ad1457" />
    <meta name="theme-color" content="#ad1457" />

    <!-- keywords -->
    <meta name="keywords" content="" />

    <!-- global styles -->
    <link href="/global.css" rel="stylesheet" />

    <!-- page styles -->
    <link href="page.css" rel="stylesheet" />
  </head>
  <body>
    <header>
      <a href="/">
        <div class="logo_container">
          <img class="logo logo_shadow" src="catalog-logo.svg" />
          <img class="logo" src="catalog-logo.svg" />
        </div>
      </a>
      <a href="/">
        <h1>
          Manubot
        </h1>
      </a>
      <h2>CATALOG<span class="cursor_blink">|</span></h2>
    </header>
    <main>
      <section id="papers">
  <div class="row">
    <div>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
      veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
      commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
      velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat
      cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id
      est laborum.
    </div>
  </div>
</section>
<template>
  <div class="row">
    <div class="catalog_entry">
      <div class="catalog_entry_screenshot">
        <a href="">
          <img class="catalog_entry_image" src="thumbnail.png" />
        </a>
      </div>
      <div class="catalog_entry_text">
        <div class="catalog_entry_title"></div>
        <div class="catalog_entry_authors"></div>
        <div class="catalog_entry_date"></div>
      </div>
      <div class="catalog_entry_links">
        <a href="" title="HTML (web) interactive version of the paper"
          ><span>html</span><i class="fas fa-globe fa-fw"></i
        ></a>
        <a
          href=""
          title="Published journal version of the paper, or preprint if published not available"
          ><span>published</span><i class="fas fa-newspaper fa-fw"></i
        ></a>
        <a
          href=""
          title="Repository (source code) for the paper. Contains the input markdown, as well as other outputs like PDF."
          ><span>source</span><i class="fab fa-github fa-fw"></i
        ></a>
      </div>
    </div>
  </div>
</template>
<script>
  // const xhr = new XMLHttpRequest();
  // xhr.open('get', 'papers.json');
  // xhr.onload = function() {
  //   makeList(JSON.parse(xhr.response));
  // };
  // xhr.send();

  makeList([
    {
      title: 'Paper Title',
      authors:
        'Paper Authors, Paper Authors, Paper Authors, Paper Authors, Paper Authors, Paper Authors',
      date: '2019-10-23',
      screenshot_url: 'screenshot.png',
      html_url: 'html.com',
      preprint_url: 'preprint.com',
      journal_url: 'journal.com',
      source_url: 'github.com'
    },
    {
      title: 'Paper Title',
      authors: 'Paper Authors',
      date: '2019-10-23',
      screenshot_url: 'screenshot.png',
      html_url: 'html.com',
      journal_url: 'journal.com',
      source_url: 'github.com'
    },
    {
      title: 'Paper Title',
      authors: 'Paper Authors',
      date: '2019-10-23',
      screenshot_url: 'screenshot.png',
      preprint_url: 'preprint.com'
    }
  ]);
  function makeList(list) {
    const container = document.querySelector('#papers');
    const template = document.querySelector('template');

    for (const entry of list) {
      const newEntry = template.content.cloneNode(true);
      const img = newEntry.querySelector('.catalog_entry_image');
      const imgLink = newEntry.querySelector('.catalog_entry_screenshot > a');
      const title = newEntry.querySelector('.catalog_entry_title');
      const authors = newEntry.querySelector('.catalog_entry_authors');
      const date = newEntry.querySelector('.catalog_entry_date');
      const links = newEntry.querySelectorAll('.catalog_entry_links > a');
      const html = links[0];
      const published = links[1];
      const source = links[2];

      img.src = entry.screenshot_url || '/images/screenshot.png';
      imgLink.href =
        entry.html_url || entry.published_url || entry.source_url || '';
      title.innerHTML = entry.title || '–';
      authors.innerHTML = entry.authors || '–';
      date.innerHTML = makeDate(entry.date);

      html.href = entry.html_url || '';
      published.href = entry.journal_url || entry.preprint_url || '';
      source.href = entry.source_url || '';

      container.appendChild(newEntry);
    }
  }
  function makeDate(date) {
    date = new Date(date);
    if (!date || isNaN(date)) return '–';
    const month = [
      'Jan',
      'Feb',
      'Mar',
      'Apr',
      'May',
      'Jun',
      'Jul',
      'Aug',
      'Sep',
      'Oct',
      'Nov',
      'Dec'
    ][date.getMonth()];
    return month + ' ' + date.getFullYear();
  }
</script>

    </main>
    <footer>
  <a href="https://github.com/manubot">
    <i class="fab fa-lg fa-github"></i>
  </a>
  <a href="https://twitter.com/search?q=%23Manubot">
    <i class="fab fa-lg fa-twitter"></i>
  </a>
  <a href="mailto:contact@manubot.org">contact@manubot.org</a>
</footer>

  </body>
</html>
